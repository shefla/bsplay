!function(t,e,s){var i=function(){for(var t=/audio(.min)?.js.*/,e=document.getElementsByTagName("script"),s=0,i=e.length;i>s;s++){var a=e[s].getAttribute("src");if(t.test(a))return a.replace(t,"")}}();s[t]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+t+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+t+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,imageLocation:i+"player-graphics.gif",swfLocation:i+"audiojs.swf",useFlash:function(){var t=document.createElement("audio");return!(t.canPlayType&&t.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var t=navigator.mimeTypes["application/x-shockwave-flash"];return t&&t.enabledPlugin}try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:'        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',trackEnded:function(){},flashError:function(){var e=this.settings.createPlayer,i=a(e.errorMessageClass,this.wrapper),o='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(o+=' <a href="'+this.mp3+'">Download audio file</a>.'),s[t].helpers.removeClass(this.wrapper,e.loadingClass),s[t].helpers.addClass(this.wrapper,e.errorClass),i.innerHTML=o},loadError:function(){var e=this.settings.createPlayer,i=a(e.errorMessageClass,this.wrapper);s[t].helpers.removeClass(this.wrapper,e.loadingClass),s[t].helpers.addClass(this.wrapper,e.errorClass),i.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){s[t].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var e=this.settings.createPlayer,i=a(e.durationClass,this.wrapper),o=Math.floor(this.duration/60),n=Math.floor(this.duration%60);s[t].helpers.removeClass(this.wrapper,e.loadingClass),i.innerHTML=(10>o?"0":"")+o+":"+(10>n?"0":"")+n},loadProgress:function(t){var e=this.settings.createPlayer,s=a(e.scrubberClass,this.wrapper);a(e.loaderClass,this.wrapper).style.width=s.offsetWidth*t+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){s[t].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){s[t].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(t){var e=this.settings.createPlayer,s=a(e.scrubberClass,this.wrapper);a(e.progressClass,this.wrapper).style.width=s.offsetWidth*t+"px",e=a(e.playedClass,this.wrapper),s=this.duration*t,t=Math.floor(s/60),s=Math.floor(s%60),e.innerHTML=(10>t?"0":"")+t+":"+(10>s?"0":"")+s}},create:function(t,e){return e=e||{},t.length?this.createAll(e,t):this.newInstance(t,e)},createAll:function(t,e){var s=e||document.getElementsByTagName("audio"),i=[];t=t||{};for(var a=0,o=s.length;o>a;a++)i.push(this.newInstance(s[a],t));return i},newInstance:function(t,i){var a=this.helpers.clone(this.settings),o="audiojs"+this.instanceCount,n="audiojs_wrapper"+this.instanceCount;return this.instanceCount++,null!=t.getAttribute("autoplay")&&(a.autoplay=!0),null!=t.getAttribute("loop")&&(a.loop=!0),"none"==t.getAttribute("preload")&&(a.preload=!1),i&&this.helpers.merge(a,i),a.createPlayer.markup?t=this.createPlayer(t,a.createPlayer,n):t.parentNode.setAttribute("id",n),n=new s[e](t,a),a.css&&this.helpers.injectCss(n,a.css),a.useFlash&&a.hasFlash?(this.injectFlash(n,o),this.attachFlashEvents(n.wrapper,n)):a.useFlash&&!a.hasFlash&&this.settings.flashError.apply(n),(!a.useFlash||a.useFlash&&a.hasFlash)&&this.attachEvents(n.wrapper,n),this.instances[o]=n},createPlayer:function(t,e,s){var i=document.createElement("div"),a=t.cloneNode(!0);return i.setAttribute("class","audiojs"),i.setAttribute("className","audiojs"),i.setAttribute("id",s),a.outerHTML&&!document.createElement("audio").canPlayType?(a=this.helpers.cloneHtml5Node(t),i.innerHTML=e.markup,i.appendChild(a),t.outerHTML=i.outerHTML,i=document.getElementById(s)):(i.appendChild(a),i.innerHTML+=e.markup,t.parentNode.replaceChild(i,t)),i.getElementsByTagName("audio")[0]},attachEvents:function(e,i){if(i.settings.createPlayer){var o=i.settings.createPlayer,n=a(o.playPauseClass,e),r=a(o.scrubberClass,e);s[t].events.addListener(n,"click",function(){i.playPause.apply(i)}),s[t].events.addListener(r,"click",function(t){t=t.clientX;var e=this,s=0;if(e.offsetParent)do s+=e.offsetLeft;while(e=e.offsetParent);i.skipTo((t-s)/r.offsetWidth)}),i.settings.useFlash||(s[t].events.trackLoadProgress(i),s[t].events.addListener(i.element,"timeupdate",function(){i.updatePlayhead.apply(i)}),s[t].events.addListener(i.element,"ended",function(){i.trackEnded.apply(i)}),s[t].events.addListener(i.source,"error",function(){clearInterval(i.readyTimer),clearInterval(i.loadTimer),i.settings.loadError.apply(i)}))}},attachFlashEvents:function(t,e){e.swfReady=!1,e.load=function(t){e.mp3=t,e.swfReady&&e.element.load(t)},e.loadProgress=function(t,s){e.loadedPercent=t,e.duration=s,e.settings.loadStarted.apply(e),e.settings.loadProgress.apply(e,[t])},e.skipTo=function(t){t>e.loadedPercent||(e.updatePlayhead.call(e,[t]),e.element.skipTo(t))},e.updatePlayhead=function(t){e.settings.updatePlayhead.apply(e,[t])},e.play=function(){e.settings.preload||(e.settings.preload=!0,e.element.init(e.mp3)),e.playing=!0,e.element.pplay(),e.settings.play.apply(e)},e.pause=function(){e.playing=!1,e.element.ppause(),e.settings.pause.apply(e)},e.setVolume=function(t){e.element.setVolume(t)},e.loadStarted=function(){e.swfReady=!0,e.settings.preload&&e.element.init(e.mp3),e.settings.autoplay&&e.play.apply(e)}},injectFlash:function(t,e){var s=this.flashSource.replace(/\$1/g,e);s=s.replace(/\$2/g,t.settings.swfLocation),s=s.replace(/\$3/g,+new Date+Math.random());var i=t.wrapper.innerHTML,a=document.createElement("div");a.innerHTML=s+i,t.wrapper.innerHTML=a.innerHTML,t.element=this.helpers.getSwf(e)},helpers:{merge:function(t,e){for(attr in e)(t.hasOwnProperty(attr)||e.hasOwnProperty(attr))&&(t[attr]=e[attr])},clone:function(t){if(null==t||"object"!=typeof t)return t;var e,s=new t.constructor;for(e in t)s[e]=arguments.callee(t[e]);return s},addClass:function(t,e){RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)||(t.className+=" "+e)},removeClass:function(t,e){t.className=t.className.replace(RegExp("(\\s|^)"+e+"(\\s|$)")," ")},injectCss:function(t,e){for(var s="",i=document.getElementsByTagName("style"),a=e.replace(/\$1/g,t.settings.imageLocation),o=0,n=i.length;n>o;o++){var r=i[o].getAttribute("title");if(r&&~r.indexOf("audiojs")){if(n=i[o],n.innerHTML===a)return;s=n.innerHTML;break}}i=document.getElementsByTagName("head")[0],o=i.firstChild,n=document.createElement("style"),i&&(n.setAttribute("type","text/css"),n.setAttribute("title","audiojs"),n.styleSheet?n.styleSheet.cssText=s+a:n.appendChild(document.createTextNode(s+a)),o?i.insertBefore(n,o):i.appendChild(styleElement))},cloneHtml5Node:function(t){var e=document.createDocumentFragment(),s=e.createElement?e:document;return s.createElement("audio"),s=s.createElement("div"),e.appendChild(s),s.innerHTML=t.outerHTML,s.firstChild},getSwf:function(t){return t=document[t]||window[t],t.length>1?t[t.length-1]:t}},events:{memoryLeaking:!1,listeners:[],addListener:function(e,i,a){e.addEventListener?e.addEventListener(i,a,!1):e.attachEvent&&(this.listeners.push(e),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var e=0,i=this.listeners.length;i>e;e++)s[t].events.purge(this.listeners[e])}),this.memoryLeaking=!0),e.attachEvent("on"+i,function(){a.call(e,window.event)}))},trackLoadProgress:function(t){if(t.settings.preload){var e,s;t=t;var i=/(ipod|iphone|ipad)/i.test(navigator.userAgent);e=setInterval(function(){t.element.readyState>-1&&(i||t.init.apply(t)),t.element.readyState>1&&(t.settings.autoplay&&t.play.apply(t),clearInterval(e),s=setInterval(function(){t.loadProgress.apply(t),t.loadedPercent>=1&&clearInterval(s)}))},10),t.readyTimer=e,t.loadTimer=s}},purge:function(t){var e,s=t.attributes;if(s)for(e=0;e<s.length;e+=1)"function"==typeof t[s[e].name]&&(t[s[e].name]=null);if(s=t.childNodes)for(e=0;e<s.length;e+=1)purge(t.childNodes[e])},ready:function(){return function(t){var e=window,s=!1,i=!0,a=e.document,o=a.documentElement,n=a.addEventListener?"addEventListener":"attachEvent",r=a.addEventListener?"removeEventListener":"detachEvent",l=a.addEventListener?"":"on",p=function(i){("readystatechange"!=i.type||"complete"==a.readyState)&&(("load"==i.type?e:a)[r](l+i.type,p,!1),!s&&(s=!0)&&t.call(e,i.type||i))},h=function(){try{o.doScroll("left")}catch(t){return void setTimeout(h,50)}p("poll")};if("complete"==a.readyState)t.call(e,"lazy");else{if(a.createEventObject&&o.doScroll){try{i=!e.frameElement}catch(d){}i&&h()}a[n](l+"DOMContentLoaded",p,!1),a[n](l+"readystatechange",p,!1),e[n](l+"load",p,!1)}}}()}},s[e]=function(t,e){this.element=t,this.wrapper=t.parentNode,this.source=t.getElementsByTagName("source")[0]||t,this.mp3=function(t){var e=t.getElementsByTagName("source")[0];return t.getAttribute("src")||(e?e.getAttribute("src"):null)}(t),this.settings=e,this.loadStartedCalled=!1,this.loadedPercent=0,this.duration=1,this.playing=!1},s[e].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,[this.element.currentTime/this.duration])},skipTo:function(t){t>this.loadedPercent||(this.element.currentTime=this.duration*t,this.updatePlayhead())},load:function(e){this.loadStartedCalled=!1,this.source.setAttribute("src",e),this.element.load(),this.mp3=e,s[t].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){return this.element.duration?(this.duration=this.element.duration,this.updatePlayhead(),void this.settings.loadStarted.apply(this)):!1},loadProgress:function(){null!=this.element.buffered&&this.element.buffered.length&&(this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted()),this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]))},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&0==this.element.readyState&&this.init.apply(this),this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),s[t].events.trackLoadProgress(this)),this.playing=!0,this.element.play(),this.settings.play.apply(this)},pause:function(){this.playing=!1,this.element.pause(),this.settings.pause.apply(this)},setVolume:function(t){this.element.volume=t},trackEnded:function(){this.skipTo.apply(this,[0]),this.settings.loop||this.pause.apply(this),this.settings.trackEnded.apply(this)}};var a=function(t,e){var s=[];if(e=e||document,e.getElementsByClassName)s=e.getElementsByClassName(t);else{var i,a,o=e.getElementsByTagName("*"),n=RegExp("(^|\\s)"+t+"(\\s|$)");for(i=0,a=o.length;a>i;i++)n.test(o[i].className)&&s.push(o[i])}return s.length>1?s:s[0]}}("audiojs","audiojsInstance",this),!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var s;try{s=require("jquery")}catch(i){s=null}module.exports=e(s)}else t.Slider=e(t.jQuery)}(this,function(t){var e;return function(t){"use strict";function e(){}function s(t){function s(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function a(e,s){t.fn[e]=function(a){if("string"==typeof a){for(var n=i.call(arguments,1),r=0,l=this.length;l>r;r++){var p=this[r],h=t.data(p,e);if(h)if(t.isFunction(h[a])&&"_"!==a.charAt(0)){var d=h[a].apply(h,n);if(void 0!==d&&d!==h)return d}else o("no such method '"+a+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+a+"'")}return this}var c=this.map(function(){var i=t.data(this,e);return i?(i.option(a),i._init()):(i=new s(this,a),t.data(this,e,i)),t(this)});return!c||c.length>1?c:c[0]}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){s(e),a(t,e)},t.bridget}}var i=Array.prototype.slice;s(t)}(t),function(t){function s(e,s){function i(t,e){var s="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(s);try{return JSON.parse(i)}catch(a){return i}}"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),s=s?s:{};for(var o=Object.keys(this.defaultOptions),n=0;n<o.length;n++){var r=o[n],l=s[r];l="undefined"!=typeof l?l:i(this.element,r),l=null!==l?l:this.defaultOptions[r],this.options||(this.options={}),this.options[r]=l}var p,h,d,c,u,m=this.element.style.width,g=!1,f=this.element.parentNode;if(this.sliderElem)g=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");if(v.className="slider-track",h=document.createElement("div"),h.className="slider-track-low",p=document.createElement("div"),p.className="slider-selection",d=document.createElement("div"),d.className="slider-track-high",c=document.createElement("div"),c.className="slider-handle min-slider-handle",u=document.createElement("div"),u.className="slider-handle max-slider-handle",v.appendChild(h),v.appendChild(p),v.appendChild(d),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(n=0;n<this.options.ticks.length;n++){var y=document.createElement("div");y.className="slider-tick",this.ticks.push(y),v.appendChild(y)}p.className+=" tick-slider-selection"}if(v.appendChild(c),v.appendChild(u),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var b=document.createElement("div");b.className="slider-tick-label",b.innerHTML=this.options.ticks_labels[n],this.tickLabels.push(b),this.tickLabelContainer.appendChild(b)}var x=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var s=document.createElement("div");s.className="tooltip-inner",t.appendChild(e),t.appendChild(s)},_=document.createElement("div");_.className="tooltip tooltip-main",x(_);var w=document.createElement("div");w.className="tooltip tooltip-min",x(w);var C=document.createElement("div");C.className="tooltip tooltip-max",x(C),this.sliderElem.appendChild(v),this.sliderElem.appendChild(_),this.sliderElem.appendChild(w),this.sliderElem.appendChild(C),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),g===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=m,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackLow=h||this.trackLow,this.trackSelection=p||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=u||this.handle2,g===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");var k=["round","triangle","custom"],E=-1!==k.indexOf(this.options.handle);if(E)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),s=this.options.min+Math.round(e/this.options.step)*this.options.step;return s<this.options.min?this.options.min:s>this.options.max?this.options.max:s},toPercentage:function(t){return this.options.max===this.options.min?0:100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),s=Math.log(this.options.max);return Math.exp(e+(s-e)*t/100)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),s=0===this.options.min?0:Math.log(this.options.min),i=0===t?0:Math.log(t);return 100*(i-s)/(e-s)}}};if(e=function(t,e){return s.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear"},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(t,e){t||(t=0);var s=this.getValue();this.options.value=this._validateInputValue(t);var i=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=i(this.options.value[0]),this.options.value[1]=i(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=i(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]="after"===this.options.selection?this.options.max:this.options.min),this.percentage=this.options.max>this.options.min?[this._toPercentage(this.options.value[0]),this._toPercentage(this.options.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var a=this.options.range?this.options.value:this.options.value[0];return e===!0&&this._trigger("slide",a),s!==a&&this._trigger("change",{oldValue:s,newValue:a}),this._setDataVal(a),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),s.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var s=t[e];this.eventToCallbackMap[s]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e=Math.max.apply(Math,this.options.ticks),s=Math.min.apply(Math,this.options.ticks),i="vertical"===this.options.orientation?"height":"width",a="vertical"===this.options.orientation?"marginTop":"marginLeft",o=this.size/(this.options.ticks.length-1);if(this.tickLabelContainer&&(this.tickLabelContainer.style[a]=-o/2+"px","horizontal"===this.options.orientation)){var n=this.tickLabelContainer.offsetHeight-this.sliderElem.offsetHeight;this.sliderElem.style.marginBottom=n+"px"}for(var r=0;r<this.options.ticks.length;r++){var l=100*(this.options.ticks[r]-s)/(e-s);this.ticks[r].style[this.stylePos]=l+"%",this._removeClass(this.ticks[r],"in-selection"),l<=t[0]&&!this.options.range?this._addClass(this.ticks[r],"in-selection"):l>=t[0]&&l<=t[1]&&this._addClass(this.ticks[r],"in-selection"),this.tickLabels[r]&&(this.tickLabels[r].style[i]=o+"px")}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var p=this.tooltip_min.getBoundingClientRect(),h=this.tooltip_max.getBoundingClientRect();p.right>h.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var d;if(this.options.range){d=this.options.formatter(this.options.value),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");
var c=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,c);var u=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,u),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else d=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,d),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this.options.enabled)return!1;this._triggerFocusOnHandle(),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var s=Math.abs(this.percentage[0]-e),i=Math.abs(this.percentage[1]-e);this.dragged=i>s?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-e:e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var a=this._calculateValue();return this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a),this._pauseEvent(t),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this.options.enabled)return!1;var s;switch(e.keyCode){case 37:case 40:s=-1;break;case 39:case 38:s=1}if(s){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,a="horizontal"===this.options.orientation&&this.options.reversed;(i||a)&&(s=-s)}var o=this.options.value[t]+s*this.options.step;return this.options.range&&(o=[t?this.options.value[0]:o,t?o:this.options.value[1]]),this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0),this._trigger("slideStop",o),this._setDataVal(o),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this.options.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this.percentage[this.dragged]=this.options.reversed?100-e:e,this._layout();var s=this._calculateValue(!0);return this.setValue(s,!0),!1},_adjustPercentageForRangeSliders:function(t){this.options.range&&(0===this.dragged&&this.percentage[1]<t?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>t&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._trigger("slideStop",t),this._setDataVal(t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this.percentage[0]&&(e[0]=this._toValue(this.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this.percentage[1]&&(e[1]=this._toValue(this.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var s=[e,1/0],i=0;i<this.options.ticks.length;i++){var a=Math.abs(this.options.ticks[i]-e);a<=s[1]&&(s=[this.options.ticks[i],a])}if(s[1]<=this.options.ticks_snap_bounds)return s[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var s=t.toFixed(e);return parseFloat(s)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],s=this.offset[this.stylePos],i=e-s,a=i/this.size*100;return a=Math.round(a/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,a))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var s=t[e];if("number"!=typeof s)throw new Error(i.formatInvalidInputErrorMsg(s))}},_setDataVal:function(t){var e="value: '"+t+"'";this.element.setAttribute("data",e),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,s){s=s||0===s?s:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var a=0;a<i.length;a++){var o=i[a];o(s)}t&&this._triggerJQueryEvent(e,s)},_triggerJQueryEvent:function(t,e){var s={type:t,value:e};this.$element.trigger(s),this.$sliderElem.trigger(s)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.innerText?t.innerText=e:"undefined"!=typeof t.textContent&&(t.textContent=e)},_removeClass:function(t,e){for(var s=e.split(" "),i=t.className,a=0;a<s.length;a++){var o=s[a],n=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(n," ")}t.className=i.trim()},_addClass:function(t,e){for(var s=e.split(" "),i=t.className,a=0;a<s.length;a++){var o=s[a],n=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)"),r=n.test(i);r||(i+=" "+o)}t.className=i.trim()},_offset:function(t){return{left:t.offsetLeft,top:t.offsetTop}},_css:function(e,s,i){if(t)t.style(e,s,i);else{var a=s.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[a]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])}},t){var o=t.fn.slider?"bootstrapSlider":"slider";t.bridget(o,e)}}(t),e}),!function(t){var e,s,i=t();t.fn.sortable=function(a){var o=String(a);return a=t.extend({connectWith:!1,placeholder:null,dragImage:null},a),this.each(function(){var n,r=t(this).children(a.items),l=a.handle?r.find(a.handle):r;if("reload"===o&&t(this).children(a.items).off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"),/^enable|disable|destroy$/.test(o)){var p=t(this).children(t(this).data("items")).attr("draggable","enable"===o);return void("destroy"===o&&(t(this).off("sortupdate"),t(this).removeData("opts"),p.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s").off("sortupdate"),l.off("selectstart.h5s")))}var h=t(this).data("opts");"undefined"==typeof h?t(this).data("opts",a):a=h;var d,c,u=null===a.placeholder?t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder"/>'):t(a.placeholder).addClass("sortable-placeholder");t(this).data("items",a.items),i=i.add(u),a.connectWith&&t(a.connectWith).add(this).data("connectWith",a.connectWith),r.attr("role","option"),r.attr("aria-grabbed","false"),l.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),r.on("dragstart.h5s",function(i){var o=i.originalEvent.dataTransfer;o.effectAllowed="move",o.setData("text",""),a.dragImage&&o.setDragImage&&o.setDragImage(a.dragImage,0,0),n=(e=t(this)).addClass("sortable-dragging").attr("aria-grabbed","true").index(),s=e.outerHeight(),d=t(this).parent(),e.parent().triggerHandler("sortstart",{item:e,startparent:d})}).on("dragend.h5s",function(){e&&(e.removeClass("sortable-dragging").attr("aria-grabbed","false").show(),i.detach(),c=t(this).parent(),(n!==e.index()||d.get(0)!==c.get(0))&&e.parent().triggerHandler("sortupdate",{item:e,oldindex:n,startparent:d,endparent:c}),e=null,s=null)}).add([this,u]).on("dragover.h5s dragenter.h5s drop.h5s",function(o){if(!r.is(e)&&a.connectWith!==t(e).parent().data("connectWith"))return!0;if("drop"===o.type)return o.stopPropagation(),i.filter(":visible").after(e),e.trigger("dragend.h5s"),!1;if(o.preventDefault(),o.originalEvent.dataTransfer.dropEffect="move",r.is(this)){var n=t(this).outerHeight();if(a.forcePlaceholderSize&&u.height(s),n>s){var l=n-s,p=t(this).offset().top;if(u.index()<t(this).index()&&o.originalEvent.pageY<p+l)return!1;if(u.index()>t(this).index()&&o.originalEvent.pageY>p+n-l)return!1}e.hide(),t(this)[u.index()<t(this).index()?"after":"before"](u),i.not(u).detach()}else i.is(this)||t(this).children(a.items).length||(i.detach(),t(this).append(u));return!1})})}}(jQuery),function(t,e){var s="bsplay",i={volume:50,random:!1,repeat:"off"},a={css:'.bsp-widget{border-radius:4px}.bsp-widget .bsp-next,.bsp-widget .bsp-prev{margin-top:6px}.bsp-widget .bsp-play-pause{border-radius:6px!important}.bsp-widget .bsp-options{margin-top:8px}.bsp-widget .bsp-infos{margin:10px 0 0}.bsp-widget .bsp-volume{margin:0 0 0 12px;width:150px}.bsp-widget .bsp-volume .slider{width:100%}.bsp-widget .bsp-volume .slider-track{background:#fff}.bsp-widget .bsp-volume .slider-selection{background:#5bc0de}.bsp-widget .bsp-volume .slider-handle{color:#fff;background:#337ab7;border:1px solid #2e6da4;font-family:\'Glyphicons Halflings\'}.bsp-widget .bsp-volume-mute .slider-handle:before{content:"\\e036"}.bsp-widget .bsp-volume-half .slider-handle:before{content:"\\e037"}.bsp-widget .bsp-volume-full .slider-handle:before{content:"\\e038"}.bsp-widget .bsp-repeat-all .glyphicon:before{content:"\\e031"}.bsp-widget .panel-body{padding:0}.bsp-widget .panel-body .bsp-scrubber{margin:0;border-radius:0;position:relative}.bsp-widget .panel-body .bsp-scrubber .bsp-loaded,.bsp-widget .panel-body .bsp-scrubber .bsp-progress{position:absolute;top:0;left:0}.bsp-widget .panel-body .alert-danger{display:none;border-radius:0;margin:0}.bsp-widget .bsp-playlist{background:#f5f5f5}.bsp-widget .bsp-playlist .sortable-placeholder{height:41px}.bsp-playing .bsp-play-pause .glyphicon:before{content:"\\e073"}.bsp-error .panel-body .alert-danger{display:block}',createPlayer:{markup:'<div class="panel panel-default bsp-widget"><div class="panel-heading clearfix"><div class="pull-left bsp-cover"></div><div class="btn-group"><a class="btn btn-default bsp-prev"><span class="glyphicon glyphicon-step-backward"></span></a> <a class="btn btn-lg btn-default bsp-play-pause"><span class="glyphicon glyphicon-play"></span></a> <a class="btn btn-default bsp-next"><span class="glyphicon glyphicon-step-forward"></span></a></div><div class="btn bsp-volume bsp-volume-half"><input type="text"></div><div class="btn-group pull-right bsp-options"><a class="btn btn-sm btn-default bsp-random"><span class="glyphicon glyphicon-random"></span></a> <a class="btn btn-sm btn-default bsp-repeat"><span class="glyphicon glyphicon-repeat"></span></a></div><p class="bsp-infos"><span class="glyphicon glyphicon-music"></span> <span class="bsp-active-artist"></span> - <span class="bsp-active-title"></span></p></div><div class="panel-body"><div class="progress bsp-scrubber"><div class="progress-bar progress-bar-info bsp-loaded"></div><div class="progress-bar progress-bar-striped bsp-progress"><span><span class="bsp-played"></span> <span class="bsp-duration hide"></span></span></div></div><div class="alert alert-danger"><button type="button" class="close pull-right" data-dismiss="alert"><span>&times;</span></button><p class="bsp-error-message"></p></div></div><div class="list-group bsp-playlist"><a class="hide list-group-item bsp-track"><span class="glyphicon glyphicon-play-circle"></span> <span class="bsp-artist"></span> - <span class="bsp-title"></span> <span class="badge bsp-length"></span></a></div></div>',playPauseClass:"bsp-play-pause",scrubberClass:"bsp-scrubber",progressClass:"bsp-progress",loaderClass:"bsp-loaded",timeClass:"bsp-infos",durationClass:"bsp-duration",playedClass:"bsp-played",errorMessageClass:"bsp-error-message",playingClass:"bsp-playing",loadingClass:"bsp-loading",errorClass:"bsp-error"},play:function(){var e=n.active=n.tracks[this.mp3],i=e.data(s);n.artist.text(i.artist),n.title.text(i.title),t.each(n.tracks,function(t,e){e.removeClass("active")}),e.addClass("active"),n.progress.addClass("active"),n.wrapper.addClass(a.createPlayer.playingClass),n.toggler.addClass("btn-primary")},pause:function(){n.progress.removeClass("active"),n.wrapper.removeClass(a.createPlayer.playingClass),n.toggler.removeClass("btn-primary")},trackEnded:function(){switch(n.options.repeat){case"off":return n.next();case"one":return n.play(n.active);case"all":var t=n.active.next(".bsp-track");n.play(t.length?t:n.playlist.children(".bsp-track:first-child"))}}},o=function(t){if(!t)return"Error";var e=Math.floor(t/60),s=Math.floor(t%60);return(10>e?"0":"")+e+":"+(10>s?"0":"")+s},n={active:null,tracks:{},randlist:[],init:function(s,o){var n=this;n.options=t.extend({},i,o),n.player=e.create(s[0],a),n.wrapper=t(this.player.wrapper),n.toggler=n.wrapper.find("."+a.createPlayer.playPauseClass),n.slider=this.wrapper.find(".bsp-volume"),n.slider.find("input").slider({min:0,max:100,value:50,formatter:function(t){return"Volume: "+t+"%"}}).on("change",function(t){var e=t.value.newValue;n.player.setVolume(e/100),0===e?n.slider.addClass("bsp-volume-mute").removeClass("bsp-volume-half bsp-volume-full"):e>50?n.slider.addClass("bsp-volume-full").removeClass("bsp-volume-mute bsp-volume-half"):n.slider.addClass("bsp-volume-half").removeClass("bsp-volume-mute bsp-volume-full")}),n.artist=n.wrapper.find(".bsp-active-artist"),n.title=n.wrapper.find(".bsp-active-title"),n.progress=n.wrapper.find(".bsp-progress"),n.playlist=n.wrapper.find(".bsp-playlist"),n.template=n.playlist.find(".bsp-track").remove().removeClass("hide").click(function(){n.play(t(this))}),n.wrapper.find(".bsp-prev").click(function(){n.prev()}),n.wrapper.find(".bsp-next").click(function(){n.next()}),n.wrapper.find(".bsp-random").click(function(){n.options.random=t(this).toggleClass("btn-primary").hasClass("btn-primary"),n.options.random&&n.randomize()}),n.wrapper.find(".bsp-repeat").click(function(){var e=t(this).removeClass("bsp-repeat-"+n.options.repeat);switch(n.options.repeat){case"off":n.options.repeat="one",e.addClass("btn-primary");break;case"one":n.options.repeat="all";break;case"all":n.options.repeat="off",e.removeClass("btn-primary")}e.addClass("bsp-repeat-"+n.options.repeat)}),n.wrapper.find(".alert-danger").alert().on("close.bs.alert",function(){return n.wrapper.removeClass(a.createPlayer.errorClass),!1}),n.player.setVolume(n.options.volume/100),n.active=n.add(s)},add:function(t){var e=this,i=t.attr("src");if(e.tracks[i])return this;var a=i.split("/").pop().replace(/^[\s\._]*\d*[\s\._]*/,"").split(/[\s\._]+-[\s\._]+/),n={path:i,artist:a.length>1?a.shift():"?",title:a.join(" - ").replace(/\.mp3$/i,""),length:o(t.prop("duration"))},r=e.template.clone(!0).data(s,n).appendTo(e.playlist);return r.find(".bsp-artist").text(n.artist),r.find(".bsp-title").text(n.title),r.find(".bsp-length").text(n.length),e.tracks[i]=r,r},play:function(t){this.player.load(t.data(s).path),this.player.play()},pause:function(){this.player.pause()},prev:function(){var t,e=this;return e.options.random?e.next():(t=e.active.prev(".bsp-track"),void(t.length?e.play(t):"all"===e.options.repeat?e.play(e.playlist.children(".bsp-track:last-child")):e.pause()))},next:function(){var t,e=this,s=e.options.random,i="all"===e.options.repeat;if(s&&!e.randlist.length)return e.randomize(),i?e.next():e.pause();var t=s?e.tracks[e.randlist.pop()]:e.active.next(".bsp-track");t.length?e.play(t):i?e.play(e.playlist.children(".bsp-track:first-child")):e.pause()},randomize:function(){for(var e,s,i=this,a=t.map(i.tracks,function(t,e){return t.is(i.active)?void 0:e}),o=a.length-1;o>0;o--)s=Math.floor(Math.random()*(o+1)),e=a[o],a[o]=a[s],a[s]=e;i.randlist=a}};t.fn[s]=function(e){return this.each(function(){var s=t(this);"AUDIO"===s.prop("tagName")&&(n.player?n.add(s):n.init(s,e),n.playlist.sortable())})}}(jQuery,audiojs);